# システム構成

## 1. 概要
本システムは、**FastAPI** をバックエンド、**React** をフロントエンドとして構築するローカル動作型TODO管理アプリである。  
データは **SQLite** に永続化され、API経由でフロントエンドと通信する。  
開発・実行環境はすべてローカル（localhost）上に構築する。

---

## 2. システム全体構成図（概念）

```

+-----------------------------+
|        React Frontend       |
|  (タスク一覧・登録UI)        |
|   [http://localhost:5173](http://localhost:5173)     |
+--------------+--------------+
|
|  REST API (HTTP/JSON)
v
+--------------+--------------+
|       FastAPI Backend       |
|  (API定義・バリデーション)  |
|   [http://localhost:8000](http://localhost:8000)     |
+--------------+--------------+
|
|  SQL (ORM: SQLAlchemy)
v
+--------------+--------------+
|         SQLite Database      |
|  (tasks.db)                 |
+-----------------------------+

```

---

## 3. 主なコンポーネントと役割

| コンポーネント | 技術スタック | 主な役割 |
|----------------|---------------|-----------|
| **Frontend** | React (Vite) / TypeScript | タスクの表示・登録・更新・削除操作。API呼び出し。 |
| **Backend API** | FastAPI / Pydantic / SQLAlchemy | ビジネスロジック実装、DB操作、APIエンドポイント提供。 |
| **Database** | SQLite3 | タスクデータの永続化。軽量なローカルDB。 |
| **開発環境** | Python 3.11, Node.js 18 | サーバー・フロント両方の開発実行環境。 |

---

## 4. コンポーネント間のデータフロー
1. ユーザーがブラウザ上でタスクを操作。  
2. ReactがFastAPIにHTTPリクエスト（JSON）を送信。  
3. FastAPIがSQLAlchemy経由でSQLiteへアクセスし、結果を返却。  
4. Reactが結果を描画してUIを更新。

---

## 5. データベース構成（概要）

| テーブル名 | カラム | 型 | 説明 |
|-------------|---------|-----|------|
| tasks | id | INTEGER (PK) | タスクID |
|  | title | TEXT | タスク名 |
|  | description | TEXT | 詳細 |
|  | is_done | BOOLEAN | 完了フラグ |
|  | created_at | DATETIME | 登録日時 |

---

## 6. キャッシュ・パフォーマンス
- キャッシュ機構は不要（小規模ローカル運用のため）
- API応答はメモリ上で処理され、即時反映される

---

## 7. デプロイ・ホスティング
- ローカル実行前提（デモ用）
- 実行例:
  - バックエンド: `uvicorn main:app --reload`
  - フロントエンド: `npm run dev`
- 将来的にDocker化も可能（例: `docker-compose`による統合）

---

## 8. 前提条件・制約
- 外部サービスとの連携なし
- FastAPIサーバーとReactサーバーは同一マシン上で稼働
- SQLiteファイルはローカルディレクトリ内に保持
