# テスト計画

## 概要

本ドキュメントでは、システム全体のテスト戦略・方針を定義し、品質保証のための基盤を明確化する。

---

## テスト方針

- 開発工程ごとに段階的なテストを実施し、品質の早期検出と改善を図る。
- 自動化可能な範囲は CI/CD パイプラインに統合し、反復的な品質確認を効率化する。
- テストデータ、環境、手順を再現性の高い形で管理する。

---

## テスト種別と目的

| テスト種別 | 目的 | 主な担当 |
|-------------|------|-----------|
| 単体テスト | 各モジュール・関数レベルでの動作確認 | 開発者 |
| 結合テスト | モジュール間の連携やデータフローの検証 | 開発者・QA |
| 総合テスト | システム全体の機能・性能・可用性の検証 | QAチーム |
| 受け入れテスト | 要件定義に対する最終確認 | プロダクトオーナー |

---

## テスト環境・データ準備

- **環境構成**
  - 本番相当のステージング環境を用意し、実運用と同一の設定を適用。
  - テスト用DBを別途用意し、マイグレーションテストも含む。

- **データ準備**
  - テストケースごとに初期データセットを定義。
  - 匿名化済みの実データを一部使用可能とする（法令遵守の範囲内）。

---

## テストケース設計方針

- 機能単位で網羅的なテストケースを定義。
- 境界値分析・異常系を重視。
- 主要なユーザーストーリーを基にシナリオテストを設計。

---

## 期待結果と合格基準

- 全テストケースの **90%以上成功** を最低基準とする。
- クリティカルバグ（優先度：High）はすべて修正済みであること。
- CIパイプライン上で自動テストが安定して通過すること。

---

## 自動テスト・CI/CD連携方針

- 単体テストはすべて自動化（例: Jest, Pytest, JUnitなど）
- 結合・E2Eテストの一部も自動化（例: Cypress, Playwright）
- GitHub Actions / GitLab CI でプルリク時に自動実行
- テスト結果レポートは JUnit XML / Allure 形式で保存

---

## バグ報告・修正フロー

1. 不具合発生時、チケット管理システム（例: Jira, GitHub Issues）に報告  
2. 開発者が再現確認 → 修正ブランチを作成  
3. 修正後、自動テスト + 該当ケースの再実行  
4. QAが修正確認 → チケットをクローズ  

---

## テスト結果レポート形式

- 自動テスト結果：JUnit XML, Allure  
- 手動テスト：Google Sheets または TestRail に記録  
- 定期レポート：Slack / Teams に通知（週次）

---

## 品質メトリクス

| 指標 | 目標値 | 備考 |
|------|--------|------|
| テストカバレッジ | 80%以上 | 単体＋結合テスト |
| ビルド成功率 | 95%以上 | mainブランチ |
| 平均バグ修正期間 | 3日以内 | 重大度High以下 |
| パフォーマンステスト閾値 | 応答時間2秒以内 | 主要API基準 |

---

## 継続的改善

- テスト結果レビューを各スプリント終了時に実施。
- テストケース・自動化スクリプトの改善を定期的に反映。
- 品質指標のトレンドをダッシュボード化し、全体最適を推進。

---

## 付録

- テスト環境構築スクリプト: `scripts/setup_test_env.sh`  
- テストデータサンプル: `data/test_data_sample.json`  
- CI/CD設定ファイル: `.github/workflows/test.yml`
